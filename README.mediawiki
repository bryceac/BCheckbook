=BCheckbook=

'''iOS Version:''' 1.2.4

'''macOS Version:''' 2.0

'''Author:''' Bryce Campbell

'''Copyright:''' 2021

'''Description:''' A simple checkbook ledger that can be used to keep track on finances on your computer and on the go without an Internet connection.

'''License:''' See LICENSE

==Notes==

This application has only been tested on macOS 12 and iOS 15.

===Version History===

<dl>
<dt style="font-weight:bold">1.2.4 (iOS)</dt>
<dd>
<p>Minor patch</p>
<p>Categories that users add when selecting a category 
are now automatically selected.</p>
</dd>
<dt style="font-weight:bold">2.0 (macOS)</dt>
<dd>
<p>UI modification, to make the UI look and act more like how it was intended, 
including the ability to delete either just one of multiple transactions.</p>
<p>Due to the changes made, the application no longer autoscrolls to new entries.</p>
<p>Released July, 22, 2022.</p>
</dd>
<dt style="font-weight:bold">1.2.2 (macOS)</dt>
<dd>
<p>add autoscroll to new item to macOS app, to allow it to operate like iOS app.</p>
<p>Released June 25, 2022</p>
</dd>
<dt style="font-weight:bold">1.2.3 (iOS)</dt>
<dd>
<p>Make app autoscroll to new item, making it quick and easy to modify new entry.</p>
<p>Released June 24, 2022</p>
</dd>
<dt style="font-weight:bold">1.2.2 (iOS)</dt>
<dd>
<p>UI tweaks</p>
<p>change add button&39;s label to a system provided image, 
making it easier to add transactions, 
and make Record views display details vertically, 
which fixes things getting cut off.</p>
<p>Released April 4, 2022</p>
</dd>
<dt style="font-weight:bold">1.2.1 (Both)</dt>
<dd>
<p>Bug fix</p>
<p>fix bug that occurs when trying to export to a bcheck file, 
by merging BCheckFileDocument and QIFDocument, making only one 
<strong>fileExporter()</strong> instance necessary.</p>
<p>Released March 13, 2022.</p>
</dd>
<dt style="font-weight:bold">1.2 (Both)</dt>
<dd>
<p>Minor update</p>
<p>Data loading is now asynchronous, 
due to 
added support for importing and exporting 
<abbr title="Quicken Interchange Format">QIF</a>, 
which can add massive amounts of records.</p>
<p>released March, 8, 2022</p>
</dd>
<dt style="font-weight:bold">1.1.1 (Both)</dt>
<dd>
<p>Minor Patch</p>
<p>Importing now updates existing records, 
in addition to adding new records.</p>
</dd>
<dt style="font-weight:bold">1.1 (Both)</dt>
<dd>
<p>Minor update</p>
<p>Allow user to search for transactions, allowing them to get transactions from certain vendors and/or categories.</p>
<p>This update is only available to iOS 15 and later and macOS 12 and later, due to API availability.</p>
</dd>
<dt style="font-weight:bold">1.0 (Both</dt>
<dd>
<p>Major change</p>
<p>Add view that allows person to get a quick overview of transactions,
which actually makes categories useful and make some code changes to reduce redundant code.</p>
<p>Released January 13, 2022</p>
</dd>
<dt style="font-weight:bold">0.3.1 (Both)</dt>
<dd>
<p>Minor patch.</p>
<p>Take care of remaining known issues by changing how balances are retrieved.</p>
<p>Released January 2022</p>
</dd>
<dt style="font-weight:bold">0.3 (Both)</dt>
<dd>
<p>Major change, such as:
<ul>
<li>move to a database backend</li>
<li>Fix issues in mac UI and change mac UI a bit</li> 
<li>transactions can be placed into categories</li>
<li>transactions can be imported and exported (helps with migration)</li>
<li>iOS app now registered to accept bcheck format</li>
<li>Move extension code from mac code to shared</li>
</ul>
<p>Relesed December 2021.</p>
</dd>
<dt style="font-weight:bold">0.2 (Both)</dt>
<dd>
<p>Major fix that deals with 
updating suceeding transactions, fixing transaction ordering, and
showing the proper amounts. Released Nov. 19, 2021
</p></dd>
<dt style="font-weight:bold">0.1.1 (iOS)</dt>
<dd>Minor patch that gives user feedback if the save was successful. November 2021</dd>
<dt style="font-weight:bold">0.1 (Both platforms)</dt>
<dd>Initial release. July 2021</dd>
</dl>

===Questions===

<ol>
<li>
<dl>
<dt style="font-weight:bold">Why create this application when there are so many other applicatios that do the same thing?</dt>
<dd>
<p>At the time of writing this README, I have been using <a href="https://gnucash.org/">GnuCash</a> to keep track of finances 
and I wanted something that could be utilized to help keep track of that on other devices.</p>
<p>In that that time, I tried looking for something kind of like GnuCash for Android, 
so I could just transfer my transactions easily and came up empty, or finding apps with features I did not need, 
such as multiple accounts and charts.</p>
<p>In light of the situation, and to challenge myself further, after coding my own implementation of Yahtzee in Swift using SwiftUI 
(application is not available anywhere at this time), I decided to make this app myself.</p>
</dd>
</dl>
</li>
<li>
<dl>
<dt style="font-weight:bold">Can I import my transactions from X?</dt>
<dd>
<p>When I initially wrote this program, this was not possible, 
and while I still kind of I stand by my reasoning for CSV support, 
I decided I should support at least one more common format, 
in case a family member who I know uses Quicken switches to my app.</p>
<p>As such, it is possible to import transactions from QIF files, 
but it is limited in comparison 
to what the Quicken Interchange Formart allows, 
especially because this app does not support multiple accounts, 
nor does the library I use, 
as all nonivestment and noninvoice transactions are grouped together 
(e.g. all Bank transactions are listed together regardless of account).</p>
<p>For best results, 
I recommend starting off anew than trying to import via QIF.</p>
</dd>
</dl>
</li>
<li>
<dl>
<dt style="font-weight:bold">Can I pull data in from my bank account?</dt>
<dd>
<p>I might implement this in the future, but this application cannot do that at this time. I understand that it is a neat feature 
and something that may be considered a <strong>must</strong> for apps dealing in finances, but because some banks are either ditching OFX or 
only allowing certain entities access via OFX, GnuCash was unable to do online banking and many such banks want people to use their APIs instead.</p>
<p>If I am in a position to investigate these APIs, seeing as there might be some cost involved, I may look into the details and see how they relay the data, 
as figuring out those patterns would be easier than trying to deal with user habits that make importing from applications like GnuCash difficult.</p>
</dd>
</dl>
</li>
</ol>

===Usage===

The program is simple enough to use, aside from quirks that cropped up because of the different UI schemes utilized for macOS and iOS.

However, one thing shared in both versions is that the dollar amount will not be recorded until pressing enter.

This is something one must live with for now because it does not seem to be possible have the fields displayed as currency and to automatically register the correct value.

Also, the currency symbol is required when inputting those values, though they are omitted in the JSON exports and database.

====Searching Records====

Starting with version 1.1, it is possible search records in the ledger.

However, this feature is quite limited. 
It is only possible to search under two different citeria, 
which are the vendor and the category.

While I have thought about including other things in the search criteria, 
it seems to be a little complex for me to get the values necessary 
from the user, 
so I decided to simplify things to only two particular values.

If you want to search for a vendor, you just type in the name like this:

<pre>
Fake Street Electronics
</pre>

To look up transactions in a particular category, you would type in:

<pre>
category: gifts
</pre>

<strong>Spaces are mandatory</strong> after the category prefix, 
due to the pattern utilized to deal with category queries. 

To look up transactions with a particular vendor 
in a particular category, you would type:

<pre>
Fake Street Electronics category: gifts
</pre>

all text in a query, except for prefixes, like <strong>category</strong>, are case insensitive, 
so the category specified is case insensitive, as is the vendor.

====Removing Records====

Records can only be removed from the ledger view in one of two ways, depending on where you are using the app:

<ul>
<li>Swipe to Delete (iOS only)</li>
<li>minus button (as of version 2.0 of the Mac app).</li>
</ul>

Records can also be removed from the ledger in search results in the same fashion.

===Saving & Loading===

<p>At this point in time, the Mac and iOS versions are fairly similiar 
in the area of data persistece.</p>

<p>Both utilize a database stored as <strong>register.db</strong> 
and will automatically save changes to the database.</p>

<p>As such, there is no need to manually load data in either version of the app.</p>

====Importing QIF Files====

Although this app supports importing and exporting QIF files, 
as of version 1.2, there are some limitations.

The most important to note, 
aside from the fact that 
they cannot be used to update existing entries, 
is this app only imports things under the 
<strong>!Type:Bank</strong> heading.

While the library I am using will also pull in stuff 
marked <strong>Cash</strong>, 
<strong>CCard</strong>, 
<strong>Oth A</strong>, 
and <strong>Oth L</strong>, <strong>Bank</strong> is the only one accepted 
because this application was only ever meant to track one account.

Also, all <strong>dates must be in MM/DD/YYYY format</strong>. 
This is a limitation of the library used 
and is the only format I chose to accept.

Any transactions not in MM/DD/YYYY format will not be seen,
thus will not be imported into the application.

===Backing up Data===

<p>Due to the iOS app and the Mac app being a bit more similiar, 
with the recent changes, there are two ways to back up data.</p>

<ul>
<li>backup the database file</li>
<li>export transactions to a bcheck file</li>
<li>export transactions to QIF (starting with version 1.2)</li>
</ul>

<p>Of the three options, the latter two are recommended for most people, as the 
database structure might change in the future, 
and the latter most 
<strong>should</strong> allow you to migrate to other applications if desired.</p>

<p>However, if you wish to back up the database or access it, 
it can be found in one of the following places, depending on platform:</p>

<ul>
<li>Application&#39;s Documents folder (iOS app)</li>
<li><strong>me.brycecampbell.bcheckbook</strong> folder 
somewhere in your user&#39;s Library folder (macOS app)</li>
</ul>

<p>Of the two most recommended options, 
<strong>bcheck</strong> will provide the best experience, 
because everything is <strong>always</strong> imported with QIF 
and there is no way to use them to update existing records, whereas 
<strong>bcheck</strong> files provide enough 
data to update existing transactions.</p> 



===Transferring Data===

As stated above, the iOS application and macOS application work similiarly in terms of data persistence.

You can either transfer the database, import a bcheck file, or import a QIF file.

While all transactions will not be loaded every time,
like the initial versions, when importing a bcheck file, 
it will update any existing listings 
in addition to adding new transactions as of version 1.1.1, 
making deleting the database unnecessary.

====macOS Destination from iOS====

You can use either Airdrop inside the Files app or use either Finder or iTunes to grab the exported bcheck file.

When the transfer is made via AirDrop, your file will be located in the Downloads Folder, while Finder, and likely iTunes may be more flexible.

====iOS Destination via AirDrop====

<p>As of version 0.3, the iOS app is registered to accept files bcheck directly.</p>

<p>When transferring a bcheck file via AirDrop, the application will import 
any new transactions into the database, update existing transactions, and update the list of transactions.</p>

<p>However, if you want to reimport everything, 
to start things with a clean slate, delete <strong>register.db</strong>, after closing the 
application, and then try importing your data, as the app 
<strong>should</strong> regenerate the database.</p>

===Support===

If you have any problems, 
I will try my best to help you. 
Depending on where you are seeing the problem, 
send me an email at either of the following:

ios@brycecampbell.me

mac@brycecampbell.me

Use iOS email for issues that only exist in iOS and 
the Mac email for issues that only exist in the Mac app.

If the problems exists in both versions, 
choose ether one and be sure to note in the subject that it is both systems, 
otherwise I will assume the issue is only on the platform associated 
with the email you used.

===Contributing===

If you are familiar with Swift and SwiftUI and want to help make things 
work even better, feel free to fork this project and submit a pull request.

Submissions will be tested by me before they will be merged.

===Other===

Version 1.1 and later only works on iOS 15 and later and macOS 12 and later.

If you have iOS 14 or macOS 11, version 1.0 is the last version available.

===Projects Used===

This app uses the following projects to help things run smoothly.

<dl>
<dt>
<a href="https://github.com/stephencelis/SQLite.swift">SQLite.swift</a>
</dt>
<dd>
<p>Used to implement the database backend of the application.</p>
</dd>
<dt>
<a href="https://github.com/bryceac/ComboBox">ComboBox</a>
</dt>
<dd>
<p>Custom view that is used 
to allow users to either add their own categories 
or to select from the list of available categories.</p>
</dd>
<dt>
<a href="https://github.com/bryceac/QIF">QIF</a>
</dt>
<dd>
<p>Custom library used to parse and export 
<abbr title="Quicken Interchange Format">QIF</abbr> files.</p>
</dd>
<dt>
<a href="https://github.com/pointfreeco/swift-identified-collections">Swift Identified Collections</a>
</dt>
<dd>
<p>Library to help create bindings just by specifying id (macOS version only).</p>
</dd>
</dl>
